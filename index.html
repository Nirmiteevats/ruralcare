<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RuralCare - Telemedicine Platform</title>

  <!-- Tailwind CDN for styling (keeps view close to original) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* Minor small custom styles to match the original look */
    .rounded-xl { border-radius: 12px; }
    .shadow-lg { box-shadow: 0 10px 25px rgba(15,23,42,0.08); }
    .bg-gradient-to-br { background-image: linear-gradient(135deg, #EFF6FF 0%, #F0FFF4 100%); }
    /* small step circle sizes preserved */
    .step-num { width: 48px; height: 48px; border-radius: 9999px; display:flex; align-items:center; justify-content:center; }
    /* simple star */
    .star { color: #f6ad55; margin-left: 6px; }
    /* small responsive fix */
    @media (min-width: 768px) {
      .max-w-4xl { max-width: 980px; }
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 font-sans">

  <!-- Header -->
  <header class="bg-white shadow-sm">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-2">
                <svg class="h-8 w-8 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg">
          <path d="M20.8 7.2a4.8 4.8 0 0 0-6.7 0L12 9.3l-2.1-2.1a4.8 4.8 0 0 0-6.7 6.8L12 21.6l8.8-7.6a4.8 4.8 0 0 0 0-6.8z"></path>
        </svg>
        <span class="text-2xl font-bold text-blue-800">RuralCare</span>
      </div>
      <div class="flex items-center space-x-4">
                <a href="/login.html" class="px-4 py-2 text-blue-600 font-medium inline-block">Login</a>
                <a **href="#" id="refreshRegisterBtn"** class="px-4 py-2 bg-blue-600 text-white rounded-lg font-medium inline-block">Register</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="py-12 bg-white">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">Telemedicine Access for Rural Healthcare</h1>
        <p class="text-xl text-gray-600 mb-8">NABH-compliant healthcare platform bringing quality medical services to rural India</p>

        <div id="stepper" class="bg-blue-100 rounded-lg p-6 mb-8">
          <div class="flex justify-between items-center space-x-2" id="stepsRow">
            <!-- steps will be rendered by JS -->
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <section class="py-12">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6">
        <!-- Step containers -->
        <div id="step-0" class="step block">
          <h2 class="text-2xl font-bold text-gray-800 mb-6">Patient Registration</h2>
          <form id="registrationForm" class="space-y-4">
            <div>
              <label class="block text-gray-700 mb-2">Full Name</label>
              <input name="name" id="name" type="text" required
                     class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                     placeholder="Enter your full name" />
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Aadhaar Number</label>
              <input name="aadhaarId" id="aadhaarId" type="text" required maxlength="12"
                     class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                     placeholder="Enter your 12-digit Aadhaar number" />
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Phone Number</label>
              <input name="phone" id="phone" type="tel" required maxlength="15"
                     class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                     placeholder="Enter your mobile number" />
            </div>
            <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors">
              Continue to Symptoms Check
            </button>
          </form>
        </div>

        <div id="step-1" class="step hidden">
          <h2 class="text-2xl font-bold text-gray-800 mb-6">Describe Your Symptoms</h2>

          <div class="bg-blue-50 rounded-lg p-4 mb-6">
            <p class="text-blue-800 font-medium">AI Health Assistant</p>
            <p class="text-gray-700" id="aiGreeting">Hello, I'm here to help you find the right doctor. Please describe your symptoms.</p>
          </div>

          <textarea id="symptoms" rows="4"
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-6"
                    placeholder="Describe your symptoms in detail..."></textarea>

          <div class="bg-gray-100 rounded-lg p-4 mb-6">
            <p class="text-gray-700">Based on your symptoms, I recommend consulting with one of these specialists:</p>
            <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-4" id="doctorsGrid">
              <!-- Doctors list by JS -->
            </div>
          </div>

          <button id="toConsultBtn" class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors">
            Continue to Consultation
          </button>
        </div>

        <div id="step-2" class="step hidden">
          <h2 class="text-2xl font-bold text-gray-800 mb-6">Doctor Consultation</h2>

          <div class="bg-blue-50 rounded-lg p-6 mb-6">
            <div class="flex items-center mb-4">
              <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center">
                <!-- Users SVG icon -->
                <svg class="w-8 h-8 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M17 21v-2a4 4 0 0 0-3-3.87"></path><path d="M7 21v-2a4 4 0 0 1 3-3.87"></path><circle cx="9" cy="7" r="4"></circle><circle cx="17" cy="7" r="4"></circle></svg>
              </div>
              <div class="ml-4">
                <p class="font-medium text-lg">Dr. Rajesh Kumar</p>
                <p class="text-gray-600">General Medicine • 12 years experience</p>
              </div>
            </div>

            <div id="consultArea">
              <div id="consultNotStarted" class="text-center py-8">
                <div class="inline-block bg-gray-100 p-6 rounded-lg mb-6">
                  <div class="w-80 h-44 rounded-lg bg-gray-200 flex items-center justify-center text-gray-600">
                    <!-- placeholder for video UI -->
                    Video Consultation Interface
                  </div>
                </div>
                <p class="text-gray-700 mb-6">Your consultation with Dr. Rajesh Kumar is ready to begin. Click below to start the video call.</p>
                <button id="startConsultBtn" class="bg-green-600 text-white py-3 px-8 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center mx-auto">
                  <!-- Play SVG -->
                  <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M5 3v18l15-9L5 3z"></path></svg>
                  Start Video Consultation
                </button>
              </div>

              <div id="consultInProgress" class="text-center py-8 hidden">
                <div class="inline-block bg-gray-100 p-4 rounded-lg mb-6 relative">
                  <div class="w-80 h-44 rounded-lg bg-gray-200 flex items-center justify-center text-gray-600">
                    Live video consultation in progress
                  </div>
                  <div class="absolute inset-0 flex items-center justify-center">
                    <div class="bg-blue-600 text-white px-4 py-2 rounded-lg">Consultation in progress...</div>
                  </div>
                </div>

                <div class="bg-gray-100 rounded-lg p-4 mb-6">
                  <p class="font-medium mb-2">Device Readings</p>
                  <div class="grid grid-cols-2 gap-4">
                    <div class="bg-white p-3 rounded-lg">
                      <p class="text-sm text-gray-600">Blood Pressure</p>
                      <p class="font-medium">120/80 mmHg</p>
                    </div>
                    <div class="bg-white p-3 rounded-lg">
                      <p class="text-sm text-gray-600">Heart Rate</p>
                      <p class="font-medium">72 bpm</p>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div id="step-3" class="step hidden">
          <h2 class="text-2xl font-bold text-gray-800 mb-6">e-Prescription Generated</h2>

          <div class="bg-green-50 border border-green-200 rounded-lg p-6 mb-6">
            <div class="flex items-center mb-4">
              <!-- Check icon -->
              <svg class="w-8 h-8 text-green-600 mr-3" viewBox="0 0 24 24" fill="none" stroke="#16A34A" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M20 6L9 17l-5-5"></path></svg>
              <div>
                <p class="font-medium text-lg text-green-800">Prescription Successfully Created</p>
                <p class="text-green-700" id="smsLine">Your prescription has been sent via SMS to </p>
              </div>
            </div>
          </div>

          <div class="bg-white border border-gray-200 rounded-lg p-6 mb-6">
            <div class="flex justify-between items-center mb-6">
              <div>
                <p class="font-medium text-lg">Medical Prescription</p>
                <p class="text-gray-600">Date: <span id="prescDate"></span></p>
              </div>
              <div class="text-right">
                <p class="font-medium">Dr. Rajesh Kumar</p>
                <p class="text-gray-600">MBBS, MD (General Medicine)</p>
              </div>
            </div>

            <div class="mb-6">
              <p class="font-medium mb-2">Patient Information</p>
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <p class="text-sm text-gray-600">Name</p>
                  <p class="font-medium" id="prescName">-</p>
                </div>
                <div>
                  <p class="text-sm text-gray-600">Aadhaar ID</p>
                  <p class="font-medium" id="prescAadhaar">-</p>
                </div>
              </div>
            </div>

            <div class="mb-6">
              <p class="font-medium mb-2">Medications Prescribed</p>
              <table class="w-full border-collapse">
                <thead><tr class="bg-gray-100">
                  <th class="border border-gray-300 px-4 py-2 text-left">Medicine</th>
                  <th class="border border-gray-300 px-4 py-2 text-left">Dosage</th>
                  <th class="border border-gray-300 px-4 py-2 text-left">Duration</th>
                </tr></thead>
                <tbody>
                  <tr>
                    <td class="border border-gray-300 px-4 py-2">Paracetamol</td>
                    <td class="border border-gray-300 px-4 py-2">500mg</td>
                    <td class="border border-gray-300 px-4 py-2">3 days</td>
                  </tr>
                  <tr>
                    <td class="border border-gray-300 px-4 py-2">Azithromycin</td>
                    <td class="border border-gray-300 px-4 py-2">250mg</td>
                    <td class="border border-gray-300 px-4 py-2">5 days</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="bg-blue-50 p-4 rounded-lg mb-6">
              <p class="font-medium mb-2">Instructions</p>
              <ul class="list-disc list-inside text-gray-700">
                <li>Take medications after food</li>
                <li>Complete the full course of antibiotics</li>
                <li>Follow up after 5 days if symptoms persist</li>
              </ul>
            </div>

            <div class="flex justify-between items-center">
              <div class="flex items-center">
                <!-- Shield icon -->
                <svg class="w-5 h-5 text-blue-600 mr-2" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l7 4v5c0 5-4 10-7 11-3-1-7-6-7-11V6l7-4z"></path></svg>
                <span class="text-sm text-gray-600">NABH Compliant Digital Signature</span>
              </div>
              <button id="downloadBtn" class="bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors">Download Prescription</button>
            </div>
          </div>

          <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6">
            <p class="font-medium text-lg mb-2">Medicine Delivery</p>
            <p class="text-gray-700 mb-4">Your prescription has been shared with nearby Jan Aushadhi stores. You will receive delivery options shortly.</p>
            <div class="flex items-center">
              <div class="w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mr-4">
                <div class="w-8 h-8 bg-yellow-200 rounded-full"></div>
              </div>
              <div>
                <p class="font-medium">Jan Aushadhi Store #254</p>
                <p class="text-gray-600">2.5km from your location • Delivery in 45 minutes</p>
              </div>
            </div>
          </div>

          <button id="toRecordsBtn" class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors">
            Continue to Health Records
          </button>
        </div>

        <div id="step-4" class="step hidden">
          <h2 class="text-2xl font-bold text-gray-800 mb-6">Your Health Records</h2>

          <div class="bg-blue-50 rounded-lg p-6 mb-6">
            <div class="flex items-center mb-4">
              <!-- Shield icon -->
              <svg class="w-8 h-8 text-blue-600 mr-3" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l7 4v5c0 5-4 10-7 11-3-1-7-6-7-11V6l7-4z"></path></svg>
              <div>
                <p class="font-medium text-lg">NABH-Compliant Secure Storage</p>
                <p class="text-gray-700">Your health data is encrypted and securely stored following NABH guidelines</p>
              </div>
            </div>

            <div class="bg-white rounded-lg p-4 shadow-sm mb-6">
              <p class="font-medium mb-4">Today's Consultation Summary</p>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <p class="text-sm text-gray-600">Consultation Date</p>
                  <p class="font-medium" id="summaryDate">-</p>
                </div>
                <div>
                  <p class="text-sm text-gray-600">Doctor</p>
                  <p class="font-medium">Dr. Rajesh Kumar</p>
                </div>
                <div>
                  <p class="text-sm text-gray-600">Specialty</p>
                  <p class="font-medium">General Medicine</p>
                </div>
                <div>
                  <p class="text-sm text-gray-600">Duration</p>
                  <p class="font-medium">15 minutes</p>
                </div>
              </div>

              <div class="mb-4">
                <p class="text-sm text-gray-600 mb-2">Symptoms Reported</p>
                <p class="font-medium" id="summarySymptoms">-</p>
              </div>

              <div>
                <p class="text-sm text-gray-600 mb-2">Diagnosis</p>
                <p class="font-medium">Viral fever with mild dehydration</p>
              </div>
            </div>

            <div class="bg-white rounded-lg p-4 shadow-sm">
              <p class="font-medium mb-4">Prescription History</p>
              <div class="border border-gray-200 rounded-lg overflow-hidden">
                <table class="w-full">
                  <thead class="bg-gray-100">
                    <tr>
                      <th class="text-left p-3">Date</th>
                      <th class="text-left p-3">Doctor</th>
                      <th class="text-left p-3">Medications</th>
                      <th class="text-left p-3">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="border-t border-gray-200">
                      <td class="p-3" id="historyDate">-</td>
                      <td class="p-3">Dr. Rajesh Kumar</td>
                      <td class="p-3">Paracetamol, Azithromycin</td>
                      <td class="p-3"><button class="text-blue-600 hover:text-blue-800 font-medium">View</button></td>
                    </tr>
                    <tr class="border-t border-gray-200">
                      <td class="p-3">15/08/2023</td>
                      <td class="p-3">Dr. Priya Sharma</td>
                      <td class="p-3">Vitamin D3, Calcium</td>
                      <td class="p-3"><button class="text-blue-600 hover:text-blue-800 font-medium">View</button></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

          </div>

          <div class="text-center">
            <button id="downloadSummary" class="bg-blue-600 text-white py-3 px-8 rounded-lg font-medium hover:bg-blue-700 transition-colors mr-4">Download Health Summary</button>
            <button class="bg-green-600 text-white py-3 px-8 rounded-lg font-medium hover:bg-green-700 transition-colors">Book Follow-up Appointment</button>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Features -->
  <section class="py-12 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">NABH-Compliant Features</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="bg-blue-50 rounded-lg p-6 text-center">
          <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <!-- Shield icon -->
            <svg class="w-8 h-8 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l7 4v5c0 5-4 10-7 11-3-1-7-6-7-11V6l7-4z"></path></svg>
          </div>
          <h3 class="text-xl font-medium mb-2">Secure Data Storage</h3>
          <p class="text-gray-600">All health records encrypted and stored following NABH data protection guidelines</p>
        </div>
        <div class="bg-green-50 rounded-lg p-6 text-center">
          <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <!-- Users -->
            <svg class="w-8 h-8 text-green-600" viewBox="0 0 24 24" fill="none" stroke="#059669" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M17 21v-2a4 4 0 0 0-3-3.87"></path><path d="M7 21v-2a4 4 0 0 1 3-3.87"></path><circle cx="9" cy="7" r="4"></circle><circle cx="17" cy="7" r="4"></circle></svg>
          </div>
          <h3 class="text-xl font-medium mb-2">Verified Doctors</h3>
          <p class="text-gray-600">All medical practitioners are verified and licensed following NABH standards</p>
        </div>
        <div class="bg-purple-50 rounded-lg p-6 text-center">
          <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <!-- Clock -->
            <svg class="w-8 h-8 text-purple-600" viewBox="0 0 24 24" fill="none" stroke="#7C3AED" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v6l4 2"></path></svg>
          </div>
          <h3 class="text-xl font-medium mb-2">24/7 Access</h3>
          <p class="text-gray-600">Round-the-clock access to healthcare services from remote locations</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-8">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="flex items-center mb-4 md:mb-0">
          <svg class="h-6 w-6 text-blue-400 mr-2" viewBox="0 0 24 24" fill="none" stroke="#60A5FA" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M20.8 7.2a4.8 4.8 0 0 0-6.7 0L12 9.3l-2.1-2.1a4.8 4.8 0 0 0-6.7 6.8L12 21.6l8.8-7.6a4.8 4.8 0 0 0 0-6.8z"></path></svg>
          <span class="text-xl font-bold">RuralCare</span>
        </div>
        <div class="text-center md:text-right">
          <p class="text-gray-400">© 2023 RuralCare Telemedicine Platform</p>
          <p class="text-gray-400">NABH Compliant Healthcare Services</p>
        </div>
      </div>
    </div>
  </footer>

<script>
  // Data and state (mimicking React state)
  const steps = [
    { title: 'Patient Registration' },
    { title: 'Symptom Input' },
    { title: 'Doctor Consultation' },
    { title: 'e-Prescription' },
    { title: 'Health Records' }
  ];

  const doctors = [
    { name: 'Dr. Rajesh Kumar', specialty: 'General Medicine', experience: '12 years', rating: '4.8' },
    { name: 'Dr. Priya Sharma', specialty: 'Cardiology', experience: '9 years', rating: '4.7' },
    { name: 'Dr. Amit Patel', specialty: 'Pediatrics', experience: '15 years', rating: '4.9' }
  ];

  let activeStep = 0;
  let userData = { name: '', aadhaarId: '', phone: '', symptoms: '' };
  let consultationStarted = false;
  let prescriptionGenerated = false;

  // Render stepper
  function renderStepper() {
    const row = document.getElementById('stepsRow');
    row.innerHTML = '';
    steps.forEach((s, i) => {
      const stepEl = document.createElement('div');
      stepEl.className = 'flex flex-col items-center';
      const isActive = i <= activeStep;
      const circle = document.createElement('div');
      circle.className = 'step-num ' + (isActive ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-500');
      circle.innerHTML = (i < activeStep) ? '<svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2"><path d="M20 6L9 17l-5-5"></path></svg>' : (i + 1);
      const title = document.createElement('p');
      title.className = 'mt-2 text-sm font-medium text-center';
      title.textContent = s.title;
      stepEl.appendChild(circle);
      stepEl.appendChild(title);
      row.appendChild(stepEl);
    });
  }

  function showStep(n) {
    activeStep = n;
    renderStepper();
    // hide all step containers
    document.querySelectorAll('.step').forEach(el => el.classList.add('hidden'));
    const el = document.getElementById('step-' + n);
    if (el) el.classList.remove('hidden');

    // special updates
    if (n === 1) {
      document.getElementById('aiGreeting').textContent = `Hello ${userData.name || ''}, I'm here to help you find the right doctor. Please describe your symptoms.`;
    }
    if (n === 3) {
      // fill prescription info
      document.getElementById('prescName').textContent = userData.name || '-';
      document.getElementById('prescAadhaar').textContent = userData.aadhaarId || '-';
      document.getElementById('smsLine').textContent = `Your prescription has been sent via SMS to ${userData.phone || '-'}`;
      document.getElementById('prescDate').textContent = new Date().toLocaleDateString();
      document.getElementById('historyDate').textContent = new Date().toLocaleDateString();
    }
    if (n === 4) {
      document.getElementById('summaryDate').textContent = new Date().toLocaleDateString();
      document.getElementById('summarySymptoms').textContent = userData.symptoms || 'Fever, headache, and body pain';
    }
  }

  // initial render
  renderStepper();
  showStep(0);

  // populate doctors
  const dg = document.getElementById('doctorsGrid');
  doctors.forEach(doc => {
    const card = document.createElement('div');
    card.className = 'bg-white rounded-lg p-4 shadow-sm';
    card.innerHTML = `
      <div class="flex items-center mb-3">
        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
          <svg class="w-6 h-6 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M17 21v-2a4 4 0 0 0-3-3.87"></path><path d="M7 21v-2a4 4 0 0 1 3-3.87"></path><circle cx="9" cy="7" r="4"></circle><circle cx="17" cy="7" r="4"></circle></svg>
        </div>
        <div class="ml-3">
          <p class="font-medium">${doc.name}</p>
          <p class="text-sm text-gray-600">${doc.specialty}</p>
        </div>
      </div>
      <div class="flex justify-between text-sm text-gray-600"><span>${doc.experience} experience</span><span>⭐ ${doc.rating}</span></div>
    `;
    dg.appendChild(card);
  });

  // Form handling
  const regForm = document.getElementById('registrationForm');
  regForm.addEventListener('submit', function(e) {
    e.preventDefault();
    userData.name = document.getElementById('name').value.trim();
    userData.aadhaarId = document.getElementById('aadhaarId').value.trim();
    userData.phone = document.getElementById('phone').value.trim();
    showStep(1);
  });

  // symptom button
  document.getElementById('toConsultBtn').addEventListener('click', function() {
    userData.symptoms = document.getElementById('symptoms').value.trim();
    showStep(2);
  });

  // consultation start
  document.getElementById('startConsultBtn').addEventListener('click', function() {
    consultationStarted = true;
    document.getElementById('consultNotStarted').classList.add('hidden');
    document.getElementById('consultInProgress').classList.remove('hidden');

    // simulate consultation and prescription generation after 3s
    setTimeout(() => {
      prescriptionGenerated = true;
      showStep(3);
    }, 3000);
  });

  document.getElementById('toRecordsBtn').addEventListener('click', function() {
    showStep(4);
  });

  // Download Prescription (simple PDF-like download via blob of text)
  document.getElementById('downloadBtn').addEventListener('click', function() {
    const text = `Medical Prescription\nDate: ${new Date().toLocaleDateString()}\n\nPatient: ${userData.name}\nAadhaar: ${userData.aadhaarId}\n\nMedicines:\n- Paracetamol 500mg 3 days\n- Azithromycin 250mg 5 days\n\nInstructions:\nTake medications after food.\nComplete the full course.`;
    const blob = new Blob([text], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'prescription.txt';
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  });

  // Download Health Summary (same approach)
  document.getElementById('downloadSummary').addEventListener('click', function() {
    const summary = `Health Summary\nDate: ${new Date().toLocaleDateString()}\n\nPatient: ${userData.name}\nSymptoms: ${userData.symptoms || 'N/A'}\nDiagnosis: Viral fever with mild dehydration\nMedications: Paracetamol, Azithromycin`;
    const blob = new Blob([summary], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'health_summary.txt';
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  });

</script>
</body>
</html>